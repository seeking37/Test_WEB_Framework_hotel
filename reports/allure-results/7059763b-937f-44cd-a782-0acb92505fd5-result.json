{"name": "注册失败", "status": "broken", "statusDetails": {"message": "ValueError: 'NORMAL' is not a valid Rank", "trace": "self = <testcase.test_signup.TestSignup object at 0x000001B88DA46030>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"83efd54eeea4716333f66e9f394b4a6d\")>\ntest_case = {'address': 'Las Vegas, Nevada', 'birthday': '2000-01-01', 'description': '邮箱已被占用时注册失败', 'email': 'new-user@example.com', ...}\n\n    @allure.story(\"注册失败\")\n    @allure.title(\"注册失败\")\n    @pytest.mark.parametrize(\"test_case\", TestDataLoader.get_test_cases('../data/signup_cases.yaml', 'signup_failure_cases'), ids=lambda x: x['id'])\n    @pytest.mark.order(2)\n    def test_signup_failure(self, driver, test_case):\n        \"\"\"测试用户注册失败\"\"\"\n        with allure.step(f\"执行测试用例: {test_case['description']}\"):\n            driver.get(Utils.BASE_URL)\n            top_page = TopPage(driver)\n            signup_page = top_page.go_to_signup_page()\n    \n            with allure.step(\"填写注册信息\"):\n                signup_page.set_email(test_case['email'])\n                signup_page.set_password(test_case['password'])\n                signup_page.set_password_confirmation(test_case['password_confirmation'])\n                signup_page.set_username(test_case['username'])\n>               signup_page.set_rank(Rank(test_case['rank']))\n\ntestcase\\test_signup.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\seeki\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\enum.py:757: in __call__\n    return cls.__new__(cls, value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncls = <enum 'Rank'>, value = 'NORMAL'\n\n    def __new__(cls, value):\n        # all enum instances are actually created during class construction\n        # without calling this method; this method is called by the metaclass'\n        # __call__ (i.e. Color(3) ), and by pickle\n        if type(value) is cls:\n            # For lookups like Color(Color.RED)\n            return value\n        # by-value search for a matching enum member\n        # see if it's in the reverse mapping (for hashable values)\n        try:\n            return cls._value2member_map_[value]\n        except KeyError:\n            # Not found, no need to do long O(n) search\n            pass\n        except TypeError:\n            # not there, now do long search -- O(n) behavior\n            for member in cls._member_map_.values():\n                if member._value_ == value:\n                    return member\n        # still not found -- verify that members exist, in-case somebody got here mistakenly\n        # (such as via super when trying to override __new__)\n        if not cls._member_map_:\n            raise TypeError(\"%r has no members defined\" % cls)\n        #\n        # still not found -- try _missing_ hook\n        try:\n            exc = None\n            result = cls._missing_(value)\n        except Exception as e:\n            exc = e\n            result = None\n        try:\n            if isinstance(result, cls):\n                return result\n            elif (\n                    Flag is not None and issubclass(cls, Flag)\n                    and cls._boundary_ is EJECT and isinstance(result, int)\n                ):\n                return result\n            else:\n                ve_exc = ValueError(\"%r is not a valid %s\" % (value, cls.__qualname__))\n                if result is None and exc is None:\n>                   raise ve_exc\nE                   ValueError: 'NORMAL' is not a valid Rank\n\nC:\\Users\\seeki\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\enum.py:1171: ValueError"}, "description": "测试用户注册失败", "steps": [{"name": "执行测试用例: 邮箱已被占用时注册失败", "status": "broken", "statusDetails": {"message": "ValueError: 'NORMAL' is not a valid Rank\n", "trace": "  File \"C:\\tocode\\Project\\cursor\\hotel-example\\testcase\\test_signup.py\", line 62, in test_signup_failure\n    signup_page.set_rank(Rank(test_case['rank']))\n                         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\seeki\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\enum.py\", line 757, in __call__\n    return cls.__new__(cls, value)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\seeki\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\enum.py\", line 1171, in __new__\n    raise ve_exc\n"}, "steps": [{"name": "填写注册信息", "status": "broken", "statusDetails": {"message": "ValueError: 'NORMAL' is not a valid Rank\n", "trace": "  File \"C:\\tocode\\Project\\cursor\\hotel-example\\testcase\\test_signup.py\", line 62, in test_signup_failure\n    signup_page.set_rank(Rank(test_case['rank']))\n                         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\seeki\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\enum.py\", line 757, in __call__\n    return cls.__new__(cls, value)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\seeki\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\enum.py\", line 1171, in __new__\n    raise ve_exc\n"}, "start": 1751092644338, "stop": 1751092645154}], "start": 1751092643387, "stop": 1751092645154}], "parameters": [{"name": "test_case", "value": "{'id': 'email_already_taken', 'email': 'new-user@example.com', 'password': 'password', 'password_confirmation': 'password', 'username': 'new user 1', 'rank': 'NORMAL', 'address': 'Las Vegas, Nevada', 'tel': '01234567891', 'gender': 'FEMALE', 'birthday': '2000-01-01', 'notification': True, 'expected_messages': {'email': 'Email has already been taken.', 'password': '', 'password_confirmation': '', 'username': '', 'address': '', 'tel': '', 'gender': '', 'birthday': ''}, 'description': '邮箱已被占用时注册失败'}"}], "start": 1751092643387, "stop": 1751092645155, "uuid": "cc66864c-fd63-4c6e-b498-66157e0f64e5", "historyId": "99f810dbd84ea393ab8aca7e84ed9385", "testCaseId": "5a59ec60b5050f5d2e8136bb5d5a68e3", "fullName": "testcase.test_signup.TestSignup#test_signup_failure", "labels": [{"name": "feature", "value": "注册功能"}, {"name": "story", "value": "注册失败"}, {"name": "tag", "value": "order(2)"}, {"name": "tag", "value": "@pytest.mark.usefixtures('driver')"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_signup"}, {"name": "subSuite", "value": "TestSignup"}, {"name": "host", "value": "SQG"}, {"name": "thread", "value": "12048-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_signup"}]}